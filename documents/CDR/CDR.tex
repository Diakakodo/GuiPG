\documentclass{../res/univ-projet}

%Import des packages utilisés pour le document
\usepackage[utf8x]{inputenc}
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}
%\usepackage{array}
%\usepackage{hyperref}
%\usepackage{tabularx, longtable}
%\usepackage[table]{xcolor}
%\usepackage{fancyhdr}
%\usepackage{lastpage}

\definecolor{gris}{rgb}{0.95, 0.95, 0.95}

%Redéfinition des marges
%\addtolength{\hoffset}{-2cm}
%\addtolength{\textwidth}{4cm}
\addtolength{\topmargin}{-1cm}
\addtolength{\textheight}{1cm}
\addtolength{\headsep}{0.8cm} 
\addtolength{\footskip}{-0.2cm}


%Import page de garde et structures pour la gestion de projet
%\usepackage{structures}

%Variables
\logo{../res/logo_univ.png}
\title{Cahier des Recettes}
\author{Pierre \bsc{Balmelle}, Lucas \bsc{Barbay}}
\projet{GPG}
\projdesc{Interface Graphique GPG}
\filiere{M1SSI - Conduite de Projet}
\version{0.3}
\relecteur{Olivier \bsc{Thibault}}
\signataire{}
\date{\today}

\histentry{0.1}{31/10/2014}{Version initiale.}
\histentry{0.3}{24/11/2014}{Respect de la STB v0.3.}

% -- Début du document -- %
\begin{document}

%Page de garde
\maketitle
\newpage
%La table des matières
\tableofcontents
\newpage

\section{Introduction}

% Présentation succinte du sujet et hyp de travail.
Ce document est le Cahier de Recette (CDR) de la réalisation d'une interface graphique pour le logiciel GnuPG.
Cette interface permettra d'utiliser complètement l'outil OpenPGP de façon intuitive et pédagogique de façon 
à être accessible même par des personne limité dans le domaine de l'informatique. 

\subsection{Fonctionnalités du logiciel}
Le logiciel est une interface graphique pour le GnuPG (implémentation GNU du standart OpenPGP).
Les différents cas d'utilisations :
\begin{itemize}
 \item Faire une action GPG
 \item Chiffrement/déchiffrement, signature/vérification
 \item Affichage des commandes et des erreurs
 \item Choix du fichier de configuration
 \item Modifications de la toile de confiance
 \item Attaque sur les KeyId
\end{itemize}

\subsection{Liste des objets à tester}
Nous avons dégagé 3 objets à tester : 
\begin{itemize}
 \item L'interface graphique des fonctions GnuPG.
 \item La visualisation de la toile de confiance.
 \item L'implémentation de l'attaque sur les KeyID. 
\end{itemize}

L'interface graphique permettra d'utiliser chaques commandes et options de GPG et ce de façon le plus intuitif possible. Nous
devrons tester le résultat des commandes ainsi que le temps d'exécution pour satisfaire le client en terme de fluidité de l'interface.

La toile de confiance réprésentera un schéma des différentes personnes d'un réseau qui seront liées par des clés.
Les clés seront de couleurs différentes en fonction de la confiance accordée à chacuns.

Enfin, il nous faudra tester l'implémentation de l'attaque. 

\subsection{Contexte d'exécution des tests}
\begin{itemize}
 \item
\end{itemize}

\subsection{Choix technologiques et dispositions particulières}
Les choix et dispositions sont actuellement en attendes du document d'architecture logiciel.



\section{Documents applicables et de référence}
% Liste des
% - Références des documents quidefinissent formellement les principes
%   directeurs et le hypothèse de travail prise en compte pour l'établissement de la spécification.
% - Références des documents cités dans la STB au titre d'explication ou de justification.
Différents documents de référence :
\begin{itemize}
\item Définitions du standard OpenPGP \href{file:../../ressources/openPGP/rfc4880-en.pdf}{RFC 4880}
  et \href{file:../../ressources/openPGP/rfc2440-fr.pdf}{RFC 2440}
\item Le logiciel \href{https://www.gnupg.org/}{GnuPG} (GNU Privacy Guard) implantation Open Source
  de OpenPGP.
\item La \href{https://www.gnupg.org/gph/fr/manual.html#AEN541}{toile de confiance} de GnuPG
\item Editeurs graphiques existant 
  (\href{http://www.gnupg.org/related_software/frontends.en.html}{KGpg, GPA, Seahorse})
\item Exemple de visualisation d'une toile de confiance sur le site de 
  \href{https://www.archlinux.org/master-keys/#visualization}{archlinux}.
\end{itemize}

\section{Terminologie et sigles utilisés}
\textcolor{blue}{
  Le glossaire est dans un fichier à part, il est commun aux autres documents de gestion de projet.
}

\section{Environnement de test}
\subsection{Sites de réalisation des tests}
Les test seront réalisés soit sur le site de l'université soit au domicile des deux testeurs sur leur machine personnelle.



\subsection{Configurations matérielles utilisées}
Voici la configuration des machines personnelles des deux testeurs :
\begin{itemize}
 \item PC n°1 : Un ordinateur portable équipé de Kali Linux 1.0(Debian) 64 bits sous Gnome avec un processeur Intel i5-3210M @ 2.50GHz et 6Go de RAM.
 \item PC n°2 : Un ordinateur portable équipé de Xubuntu 64 bits avec un processeur Intel i7-2630QM.
 @ 2.00 GHz et 6Go de RAM.
\end{itemize}
Il sera également utilisée des machines virtuelles pour répondre aux besoin du client sur la compatibilité de l'interface (KDE et GNOME obligatoire,
WINDOWS optionnel).

\subsection{Outils de tests mis en oeuvre}
Le module Qt Test de Qt.
Si Python est utilisé pour réaliser l'interface, les modules unittest et pytest pourront être utilisés.

\subsection{Jeux de données/Bases de données}
Nous auront comme base de données les différentes clés contenues dans le trousseau de test.


\subsection{Contraintes à prendre en compte}
Chaque procédure de test devra être réalisée :
\begin{itemize}
 \item Sous KDE
 \item Sous GNOME
 \item Optionnellement sous Windows
 \item Avec deux interfaces graphiques ouvertes avec des profils différents
\end{itemize}
Chaque procédure de test sera si possible réalisée à l'aide de l'api Qt (automatiquement), et à l'aide de l'interface (manuellement).



\section{Responsabilités}

  La création et la gestion des procédures de test sera effectuée par les responsables qualité de l'équipe. Chaque équipe travaillant au développement d'un composant est chargée de tester celui-ci continuellement et de publier les résultats des tests.
  
  Afin d'assurer la compréhension générale du code source, toute l'équipe peut et est encouragée à signaler une anomalie détectée au cours du développement : soit elle est résolue par la même personne/groupe, soit cette personne/ce groupe transmet les résultats 
  des tests à une autre personne/groupe afin que celle-ci travaille à la réparation de l'anomalie.
  
  À tout moment une équipe peut reporter des anomalies dans une procédure de test. Dans ce cas, les responsables techniques concernés travailleront à améliorer la procédure incriminée et diffuseront les mises à jour à l'ensemble de l'équipe.

  Dans tous les cas, les instructions incluses dans la partie \emph{Gestion des anomalies} sont à respecter.


\section{Stratégies de tests}

\subsection{Description de l'approche et des phases de test}
Dès qu'un test oour un composant sera réalisable, il sera fait. Ces tests devront être appliqués à chaque nouvelle version du composant.


\subsection{Campagne de test}

Les différentes campagnes de tests correspondront aux livrables envoyés au client.

\subsection{Ordre d'exécution des tests}

L'ordre d'exécution des tests dépendra du plan de développement.

\subsection{Critères d'arrêt des tests}

Un test est considéré comme échoué dès qu'une de ses étapes échoue, produit un résultat non attendu ou est irréalisable.


\section{Gestion des anomalies}

Quand des anomalies seront détectées, la procédure suivante devra être respectée:
  \begin{itemize}
   \item Création d'un mémo précisant l'anomalie rencontrée ainsi que les conditions de reproduction de l'anomalie si disponibles et l'état du système lors de l'apparition de l'anomalie.  
   Un identifiant unique lui sera attribué.
   \item Ajout d'une entrée au journal de test précisant la date du test, la référence du mémo, le nom ainsi que la référence de l'exigence de 
   qualité non respectée.
   \item Diffusion de la note à l'équipe de développement.
   \item Une personne est désignée pour corriger l'anomalie.
   \item Cette personne vérifie la gravité de l'anomalie, puis la corrige.
   \item Une deuxième personne s'assure que l'anomalie est bien corrigée.
   \item Une fois la vérification effectuée, la personne ayant corrigé l'anomalie établit un contre-mémo portant le même identifiant et précisant les raisons supposées 
   de l'anomalie ainsi que les corrections mises en place.
  \end{itemize}
  

  Dans la pratique, la gestions des anomalies sera faite à l'aide de l'outil \emph{issue tracker} de
  la plate-forme d'hébergement Gitlab. Cet outil permet la création de files de discussion associées à un bug
  de l'application. Il laisse aussi la possibilité aux collaborateurs du projet de prendre en charge 
  une \emph{issue} particulière. L'ensemble des \emph{issues} ouvertes est conservé par Gitlab ainsi
  que les files de discussion associés permettant de parcourir l'historique des bugs du projet.


\section{Procédures de test}

\begin{center}
    %---------------------------------------Test N° 1------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Interface Graphique} & \multicolumn{2}{c|}{Version : 0.1}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Création de clé}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 1} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Créer une clé & commande lancée : \texttt{"gpg -\-gen-key"} &  & \\
      2 &  &  &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 2------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Toile de confiance} & \multicolumn{2}{c|}{Version : 0.1}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Tout changement de confiance est répercuté sur la toile de confiance.}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 2} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Changer la confiance d'une clé & La représentation de cette clé a changé de couleur &  & \\
      2 &  &  &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 3------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Attaque KeyID} & \multicolumn{2}{c|}{Version : 0.1}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : La clé produite a le même KeyID que celle donnée.}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 3} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Donner une clé publique au programme d'attaque & Le programme renvoie une clé d'attaque &  & \\
      2 & Comparer la clé d'attaque avec la clé donnée & Les deux clés ont le même KeyID &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 4------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Editeur de texte de l'interface graphique} & \multicolumn{2}{c|}{Version : 0.3}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Test de la zone de copier/coller}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 4} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Coller du texte dans la zone de texte & Le texte s'affiche dans la zone de texte &  & \\
      2 & Cliquer sur "Chiffrer et signer" & La commande exécutée est "gpg -es <texte>" &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 5------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Editeur de texte de l'interface graphique} & \multicolumn{2}{c|}{Version : 0.3}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Test de la zone de copier/coller}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 5} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Coller du texte chiffré et signé dans la zone de texte & Le texte s'affiche dans la zone de texte &  & \\
      2 & Cliquer sur "Déchiffrer et vérifier" & La commande exécutée est "gpg -dv <texte>" &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 6------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Interface graphique} & \multicolumn{2}{c|}{Version : 0.3}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Affichage des commandes et retours gpg}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 6} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Activer l'affichage des commandes gpg dans l'interface graphique &  &  & \\
      2 & Lancer une commande gpg via l'interface graphique & La commande et les retours sont affichés &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 7------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Interface graphique} & \multicolumn{2}{c|}{Version : 0.3}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Tester la sélection du profil}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 7} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Lancer l'interface graphique en ligne de commande avec l'option -P & On peut choisir son profil, et en créer un si besoin &  & \\
      2 & Choisir un profil & L'interface graphique s'affiche &  & \\
      3 & Cliquer sur le bouton "Changer de profil" & On peut choisir son profil, et en créer un si besoin &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 8------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : Toile de confiance} & \multicolumn{2}{c|}{Version : 0.3}\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : Affichage couleurs de la toile de confiance}\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 8} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 & Ouvrir la toile de confiance & Toile de confiance affichée &  & \\
      2 & Vérifier que chaque niveau de confiance est représenté par une couleur & Chaque niveau de confiance est représenté par une couleur différente &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 9------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé :  } & \multicolumn{2}{c|}{Version : }\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : }\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 9} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 &  &  &  & \\
      2 &  &  &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vskip 2.2cm



 %---------------------------------------Test N° 10------------------------------------------------------------------------------
    \begin{tabular}{|c|p{5cm}|p{5cm}|p{1.5cm}|p{1.5cm}|}
      \hline
      \multicolumn{3}{|l|}{Objet testé : } & \multicolumn{2}{c|}{Version : }\\ \hline
      \multicolumn{5}{|l|}{Objectif de test : }\\ \hline
      \multicolumn{3}{|l|}{Procédure n° 10} & \multicolumn{2}{p{3cm}|}{Pré-requis : }\\ \hline
      \multicolumn{1}{|c|}{N°} & \multicolumn{1}{c|}{Actions} & \multicolumn{1}{c|}{Résultats attendus} & 
      \multicolumn{1}{c|}{Exigence} & \multicolumn{1}{c|}{OK/KO}\\ \hline
      1 &  &  &  & \\
      2 &  &  &  & \\
      3 &  &  &  & \\ \hline
    \end{tabular}
    \vfill



\end{center}

\section{Jeux de données de test}

\section{Couverture de test}

\begin{center}
    \begin{tabular}{|p{2.8cm}|p{4.2cm}|p{3cm}|p{5cm}|}
      \hline
      Id Exigence STB & Méthode de vérification & Procédure utilisée & Commentaire\\ \hline
      EF\_01 & La commande demandée a été exécutée avec les bons paramètres. & 1 & \\ \hline
      EF\_02 & Le chiffrement - déchiffrement - signature - vérification a été exécuté avec les bons paramètres. & 4,5 & \\ \hline
      EF\_03 & Chaque commande effectuée est affichée, avec retours et erreurs. & 6 & \\ \hline
      EF\_04 & Le formulaire de sélection de profil fonctionne. & 7 & \\ \hline
      EF\_05 & Tout changement de confiance est répercuté sur la toile de confiance. & 2 & \\ \hline
      EF\_06 & La clé produite a le même KeyID que celle donnée & 3 & \\ \hline
      EO\_01 & Effectuer tous les tests sous l'interface KDE. & Toutes & \\ \hline
      EO\_02 & Effectuer tous les tests sous l'interface Gnome. & Toutes & \\ \hline
      EO\_03 & Effectuer tous les tests sous Windows. & Toutes & \\ \hline
      EO\_05 & Ouvrir deux interfaces avec deux profils différents & Toutes & \\ \hline
      EO\_06 & Tester si on peut s'authentifier en SSH par clé PGP. &  & \\ \hline
      EI\_01 & Effectuer tous les tests avec GnuPG 2.0.26. & Toutes & \\ \hline 
      EI\_02 & Effectuer tous les tests avec GnuPG 1.4.18. & Toutes & \\ \hline
      EQ\_01 & Chaque niveau de confiance est représenté par une couleur. & 8 & \\ \hline
      EQ\_03 & Effectuer tous les tests avec le paquet fourni. & Toutes & \\ \hline
  \end{tabular}  
\end{center}


\end{document}

